{% extends "base.html" %}

{% block content %}
<script>
 $(document).ready(function () {
    var form = $('form');
    var submit = $('button[type="submit"]');
    var data= []
    $('#formsubmit').click(function() {
        console.log("test");
        var values = {};
        var modelid = $("#formsubmit").attr("modelid");
        var predict_values = [];
        $('#form').find('input, textarea, select').each(function(i, field) {
            
            predict_values.push(field.value);
        
        });
        var url = "/predict/" + modelid + "/values/" + predict_values;
        console.log(predict_values)
         $.ajax({
            url: url,
            type: "post",
            
            data: { modelid: modelid, predict_values: predict_values },
            success: function (data) {
                console.log(data);
            }
      });
});
});

</script>
<div class="column is-4 is-offset-4">

    <div class="box">
            <p><b>Predict</b></p>
            <div id="output"></div>
            <form id="form">



            {% for column in columnnames %}
            <div class="form-group">
                <label for="exampleInputPassword1">{{column}}</label>
                <input type="text" class="form-control" id={{column}} placeholder="">
              </div>
            {% endfor %}
            <button id="formsubmit" type="submit" modelid = {{modelid}} class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>
{% endblock %}